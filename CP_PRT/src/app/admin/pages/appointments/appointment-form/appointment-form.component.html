<div class="page-header">
  <div class="left">
    <button class="back-btn" (click)="router.navigate(['/admin/appointments'])">←</button>
    <h2>
      @if (id()) { Edit Appointment } @else { Create Appointment }
    </h2>
  </div>

  <button class="btn-primary" (click)="save()">Save</button>
</div>

<div class="edit-container">

  <div class="card">

    <form [formGroup]="form">

      <div class="form-grid form-grid-3">

        <div class="form-group">
          <label>Pacient</label>
          <select formControlName="patientId">
            <option value=""></option>
            @for (p of patients(); track p.id) {
              <option [value]="p.id">{{ p.lastName }} {{ p.firstName }}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label>Terapeut</label>
          <select formControlName="userId">
            <option value=""></option>
            @for (u of users(); track u.id) {
              <option [value]="u.id">{{ u.fullName }}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label>Cabinet</label>
          <select formControlName="cabinetId">
            <option value=""></option>
            @for (c of cabinets(); track c.id) {
              <option [value]="c.id">{{ c.name }}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label>Data</label>
          <input formControlName="date" type="date">
        </div>

        <div class="form-group">
          <label>Ora început</label>
<!--          <app-time-picker formControlName="startTime"></app-time-picker>-->
          <input formControlName="startTime" type="time">
        </div>

        <div class="form-group">
          <label>Ora sfârșit</label>
          <input formControlName="endTime" type="time">
        </div>

        <div class="form-group full-width">
          <label>Notițe</label>
          <textarea formControlName="notes"></textarea>
        </div>

      </div>

    </form>

  </div>
</div>
